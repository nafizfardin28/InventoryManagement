<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox alignment="CENTER" spacing="20"
      xmlns="http://javafx.com/javafx/17.0.12"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.ecommerce.controller.ProductListController"
      style="-fx-background-color: linear-gradient(to bottom right, #f0f4f8, #dfe9f3); -fx-padding: 30;">

    <Label text="🛒 Product List"
           style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" />

    <TableView fx:id="productTable" prefHeight="250" prefWidth="700"
               style="-fx-background-color: white; -fx-border-radius: 8px; -fx-background-radius: 8px;">
        <columns>
            <TableColumn fx:id="idColumn" text="ID" prefWidth="100"
                         style="-fx-alignment: CENTER;" />
            <TableColumn fx:id="nameColumn" text="Name" prefWidth="200"
                         style="-fx-alignment: CENTER-LEFT;" />
            <TableColumn fx:id="priceColumn" text="Price" prefWidth="150"
                         style="-fx-alignment: CENTER;" />
            <TableColumn fx:id="availableColumn" text="Available Pieces" prefWidth="200"
                         style="-fx-alignment: CENTER;" />
        </columns>
    </TableView>

    <VBox spacing="10" alignment="CENTER">
        <TextField fx:id="CustomerName" promptText="Enter Customer Name"
                   style="-fx-pref-width: 300; -fx-background-radius: 6px; -fx-padding: 8;" />
        <TextField fx:id="PhoneNumber" promptText="Enter Phone Number"
                   style="-fx-pref-width: 300; -fx-background-radius: 6px; -fx-padding: 8;" />
        <TextField fx:id="productIdField" promptText="Enter Product ID"
                   style="-fx-pref-width: 300; -fx-background-radius: 6px; -fx-padding: 8;" />
        <TextField fx:id="quantityField" promptText="Enter Quantity"
                   style="-fx-pref-width: 300; -fx-background-radius: 6px; -fx-padding: 8;" />
    </VBox>

    <HBox spacing="15" alignment="CENTER">
        <Button fx:id="cartButton" onAction="#handleViewCart" text="🛍 View Cart"
                style="-fx-font-size: 14px; -fx-padding: 8 16; -fx-background-color: #f0ad4e; -fx-text-fill: white; -fx-background-radius: 8px;" />
        <Button onAction="#handleOrder" text="➕ Add to Cart"
                style="-fx-font-size: 14px; -fx-padding: 8 16; -fx-background-color: #28a745; -fx-text-fill: white; -fx-background-radius: 8px;" />
        <Button onAction="#handleSaveDraft"
                style="-fx-font-size:14px;-fx-padding:8 16;-fx-background-color: #ffc107;-fx-text-fill: white; -fx-background-radius: 8px"
                text="Save as Draft" />
    </HBox>
    <!-- Drafts Table (initially hidden) -->
    <VBox fx:id="draftsPane" visible="false" spacing="10" VBox.vgrow="ALWAYS">
        <Label text="📄 Draft Sales" style="-fx-font-size:18px;-fx-font-weight:bold;"/>
        <TableView fx:id="draftTable" prefHeight="400" prefWidth="700">
            <columns>
                <TableColumn fx:id="draftIdCol" text="Draft ID" prefWidth="100"/>
                <TableColumn fx:id="custNameCol" text="Customer Name" prefWidth="150"/>
                <TableColumn fx:id="phoneCol" text="Phone" prefWidth="150"/>
                <TableColumn fx:id="prodIdCol" text="Product ID" prefWidth="100"/>
                <TableColumn fx:id="qtyCol" text="Quantity" prefWidth="100"/>
                <TableColumn fx:id="confirmCol" text="Confirm" prefWidth="80"/>
                <TableColumn fx:id="deleteCol" text="Delete" prefWidth="80"/>
            </columns>
        </TableView>
    </VBox>


    <Button onAction="#handleViewDrafts" text="View Drafts"
            style="-fx-font-size: 14px; -fx-padding: 8 16; -fx-background-color: #00ffbb; -fx-text-fill: white; -fx-background-radius: 8px;" />
    <Button onAction="#handleBack" text="🔙 Back to Control Panel"
            style="-fx-font-size: 14px; -fx-padding: 8 16; -fx-background-color: #007bff; -fx-text-fill: white; -fx-background-radius: 8px;" />
</VBox>
