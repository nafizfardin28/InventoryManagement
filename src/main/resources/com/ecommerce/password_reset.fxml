<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<StackPane xmlns:fx="http://javafx.com/fxml"
           fx:controller="com.ecommerce.controller.PasswordResetController"
           style="-fx-background-color: linear-gradient(to bottom, #f0f4f7, #ffffff);">

    <VBox alignment="CENTER" spacing="20">

        <!-- Card Container -->
        <VBox spacing="20" alignment="CENTER"
              style="-fx-background-color: white;
                     -fx-background-radius: 15;
                     -fx-padding: 30;
                     -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 10, 0, 0, 5);">

            <!-- Title -->
            <Label text="Reset Password">
                <font>
                    <Font name="Segoe UI Semibold" size="22"/>
                </font>
                <style>-fx-text-fill: #2c3e50;</style>
            </Label>

            <!-- Username Pane -->
            <VBox fx:id="usernamePane" spacing="10" alignment="CENTER">
                <Label text="Enter your username" style="-fx-font-size: 14px; -fx-text-fill: #555;"/>
                <TextField fx:id="usernameField" promptText="Username"
                           style="-fx-background-radius: 8; -fx-padding: 8; -fx-border-radius: 8; -fx-border-color: #ccc;"/>
                <Button text="Check Username" onAction="#handleCheckUsername"
                        style="-fx-background-color: linear-gradient(to right, #6c63ff, #574fd6);
                               -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8; -fx-padding: 8 20;"/>
                <Label fx:id="usernameStatus" text="" style="-fx-text-fill: #e74c3c;"/>
            </VBox>

            <!-- Password Reset Pane (hidden by default) -->
            <VBox fx:id="passwordPane" spacing="10" alignment="CENTER" visible="false" managed="false">
                <Label text="Enter new password" style="-fx-font-size: 14px; -fx-text-fill: #555;"/>
                <PasswordField fx:id="newPasswordField" promptText="New Password"
                               style="-fx-background-radius: 8; -fx-padding: 8; -fx-border-radius: 8; -fx-border-color: #ccc;"/>
                <PasswordField fx:id="confirmPasswordField" promptText="Confirm Password"
                               style="-fx-background-radius: 8; -fx-padding: 8; -fx-border-radius: 8; -fx-border-color: #ccc;"/>
                <Button text="Reset Password" onAction="#handlePasswordReset"
                        style="-fx-background-color: linear-gradient(to right, #28a745, #218838);
                               -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8; -fx-padding: 8 20;"/>
                <Label fx:id="passwordStatus" text="" style="-fx-text-fill: #e74c3c;"/>
            </VBox>

            <!-- Back Button -->
            <Button onAction="#handleBack" text="ðŸ”™ Back to Control Panel"
                    style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 8 20;
                           -fx-background-color: linear-gradient(to right, #007bff, #0056b3);
                           -fx-text-fill: white; -fx-background-radius: 8; -fx-cursor: hand;"/>
        </VBox>
    </VBox>
</StackPane>
